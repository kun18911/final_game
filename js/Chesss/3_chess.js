// document.querySelector(".haha").addEventListener("click", function () {
//     fightMot()     
//     //meTurn = true
//     // theyTurn = true

//     Điểm_Trật_Tự_Start()
//     tạo_Cột_Slide()
//     //cccc()
//     yyyCòn = 1; //setTimeout(() => {readycrush()}, 500)

    
//     // bbb= ['https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/yingyang.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/yingyang.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/yingyang.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/yingyang.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/yingyang.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/yingyang.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/yingyang.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/swordDoc.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/yingyang.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/yingyang.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/yingyang.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword33.png?raw=true']
//     //     var x  = document.querySelectorAll(".ch-Chess")
//     // var bbb = []
// // for (var i = 0; i < bbb.length; i++) {
// //     x[i].src = bbb[i]
// // }
// })

function cccc() {
    var x = document.querySelectorAll(".ch-Chess")
    // var bbb = []
    // for (var y of x) {
    //     bbb.push(y.src)
    // }

    var cccc = ['https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/yingyang.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/yingyang.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/yingyang.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/yingyang.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/yingyang.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/yingyang.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/yingyang.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/yingyang.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/yingyang.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/yingyang.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heartDoc.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/yingyang.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/heart.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/water.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/melon.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/yingyang.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/sword.png?raw=true', 'https://github.com/kun18911/gameBenhVienQuyDu/blob/main/asset/img/star.png?raw=true']
    for (var i = 0; i < cccc.length; i++) {
        x[i].src = cccc[i]
    }; checkClass()
}

// hàm này cho tất cả điểm số theo trật tự (Khởi đầu):
function Điểm_Trật_Tự_Start() {
    // // hp
    // {
    //     document.querySelector(".hpMe1").innerHTML = mee.hpMaxInfor()
    //     document.querySelector(".hpMe2").innerHTML = mee.hpMaxInfor()

    //     document.querySelector(".hpEnemy1").innerHTML = quai.hpMaxInfor()
    //     document.querySelector(".hpEnemy2").innerHTML = quai.hpMaxInfor()
    // }

    // // mana
    // {
    //     document.querySelector(".manaMe1").innerHTML = mee.manaInfor()
    //     document.querySelector(".manaMe2").innerHTML = quai.manaMaxInfor()

    //     document.querySelector(".manaEnemy1").innerHTML = mee.manaInfor()
    //     document.querySelector(".manaEnemy2").innerHTML = quai.manaMaxInfor()
    // }

    // hp
    document.querySelector(".hpMe1").style.width = '4rem'
    document.querySelector(".hpEnemy1").style.width = '4rem'

    // mana
    document.querySelector(".manaMe1").style.width = '0rem'
    document.querySelector(".manaEnemy1").style.width = '0rem'

    //giáp
    {
        document.querySelector(".giapMe1").innerHTML = mee.giápInfor()
        document.querySelector(".giapEnemy1").innerHTML = quai.giápInfor()
    }

} 


//                         hp                                             mana          0 vàng, lv5.00     giáp
// meIn = new inforMee('Kun1891'/*name*/, 3/*lv*/, 0/* % */, 0/*xu*/, 0 /*kim cương*/,0 /*hồng ngọc*/)
// 1. Bắt đầu: -----------------------------------------------------
function randomCandy(){/*✨*/return sáu_Biến_Thường[Math.floor(Math.random()*sáu_Biến_Thường.length)];/*0-5.99*/}
function startGame() { // ✨ Sử dụng hai vòng lặp for để tạo bảng, với hàng và cột được xác định trước
    var board_table = document.getElementById("board"); // Lấy thẻ từ HTML và lưu trữ vào biến board_table.
    for (let r = 0; r < hàng; r++) {let row = []; // Khởi tạo một mảng rỗng để lưu trữ các ô của hàng
        for (let c = 0; c < cột; c++) {let tile = createTile(r, c); board_table.appendChild(tile); row.push(tile)}
        board.push(row); 
    }
    function createTile(r, c) {  // Tạo một thẻ <img> mới
        let tile = document.createElement("img"); tile.src = randomCandy(); tile.style.opacity = "1";
        tile.className = sáu_Class_Thường[sáu_Biến_Thường.indexOf(tile.src)]; 
        tile.classList.add("ch-Chess","Xclass","fc","i3","absolute");
        tile.addEventListener("click",click_Curr);tile.id=r+"-"+c;return tile;
    }
    function createE(b) { // Tạo một thẻ <img> mới
        let x = document.createElement("img"); x.classList.add("absolute"); 
        x.style.top=(-nammuoi)+'rem';x.style.left=nammuoi*b+'rem';x.id =0+"-"+'*'+ b; board_table.appendChild(x);
    }; for (let i = 0; i < cột; i++) {createE(i)}
    for (let i = 0; i < hàng; i++) {
        for(let e=0;e<cột;e++){let b=nammuoi*i,c=nammuoi*e;board[i][e].style.top=b+'rem';board[i][e].style.left=c+'rem'}
    }
}
 // Biến kiểm tra lần click đầu tiên
function click_Curr() { // ✨ phần click cờ
    function mi(x, y) { document.getElementById(x).classList.replace(document.getElementById(x).classList[3], y) }
    if (click1 == 2) { click1 = false
        function mimi(a) { setTimeout(function () { mi(a, 'fc') }, 300) };
        otherTile = this; mi(currTile.id, 'fc'); mi(otherTile.id, 'outFocus'); dragEnd(); mimi(otherTile.id)
    }
    if (click1) { click1 = 2; currTile = this; mi(currTile.id, 'focus') }
}
function dragEnd() { // ✨
    // if (currTile.src.includes(blank) || otherTile.src.includes(blank)) {return}
    var [r1, c1] = currTile.id.split("-").map(Number), [r2, c2] = otherTile.id.split("-").map(Number);
    const rowDiff = Math.abs(r1 - r2), colDiff = Math.abs(c1 - c2);
    let kề = (rowDiff === 1 && colDiff === 0) || (rowDiff === 0 && colDiff === 1);
    if (kề) {
        setTimeout(() => {
            [currTile.src, otherTile.src] = [otherTile.src, currTile.src]; checkClass()
            setTimeout(() =>{clearInterval(timeTogether);hộp_TimeMe.classList.add("doiMauTime"); readycrush()},300)
        }, 100); //true
    } else { setTimeout(() => { click1 = true }, 200) }
}

function readycrush() {
    lấy_ListArray(); let allC = listOfArrays.flat(); Ô_Tạo_Boom_3x3 = lấy_Phần_Tử_Chung(allC); 
    // khâu này cho biết cho biết có đc tăng lượt ko---------------
    if (yyy > 0) { var found
        for (var i = 0; i < listOfArrays.length; i++) {
            if (listOfArrays[i].length >= 4) {
                found=Ô_Tạo_Boom_3x3.some(function(item){return listOfArrays[i].includes(item)});if(!found){numbGo++}  
            }
        }; numbGo += Ô_Tạo_Boom_3x3.length // found là tìm thấy b[1,2,3] trong mảng c [2]|[1] ko
    } //-----------------------------------------------------------
    var array = [...new Set(allC)]; abcm = array.length;
    abcm > 0 ? array.forEach(item => xóa_Viên_Nổ(item, 1, 200)) : setTimeout(slide1, 300) // slide lấy điểm
}

function crushCandy() { // ✨
    for (var i = 0; i < listOfArrays.length; i++) { // test_Có_Tạo_4x_Và_5x_ko ------------------
        listOfArrays[i].length == 4 ? mảng_4_Ô.push(listOfArrays[i]) : 1
        // listOfArrays[i].length >= 5 ? mảng_5_Ô.push(listOfArrays[i]) : 1
    }
    //test_Có_Viên_Đặc_Biệt_Ko, nếu ăn đc 5x thì sẽ khác; 
    var u =0; var a = listOfArrays.flat().some(i => {mười_Tám_Class.includes(i.classList[2])? u++: 1})
    if (u > 0) { // khâu này nếu special cần nổ sẽ lọt vào
        đem_Cờ_Đặc_Biệt_Lấy_Mảng_Nổ(); var mảng_Ko_Trùng = [... new Set(mảng_Nổ)]; abcm = mảng_Ko_Trùng.length
        mảng_Ko_Trùng.forEach(i => xóa_Viên_Nổ(i, 0, 200))
    } else {crush_Xong_Rơi(200)} //cộngĐiểmSauCrush(0)
}
function xử_Array_Mini(xx) { // ✨
    mảng_Có_Viên_Nổ(); var mảng_0_Trùng = [... new Set(mảng_Nổ)]; abcm = mảng_0_Trùng.length;
    if (abcm > 0) { mảng_0_Trùng.forEach(i => xóa_Viên_Nổ(i, 0, xx) ) }
    else { setTimeout(function () { crush_Xong_Rơi(200) }, 300) }
}

function tạo_Cột_Slide() { // ✨
    for (var i = 0; i < cột; i++) {
        cotArray[i] = []; cotArray[i].push(document.getElementById("0-*" + i))
        for (var j = 0; j < hàng; j++) { cotArray[i].push(board[j][i]) }
    }
}
function slide1() { // ✨
    abcn = 0
    for (var i = 0; i < cột; i++) { haha(cotArray[i], "0-*" + i) } // rớt cờ
    slideLoop = setInterval(function () {
        if (abcn == cột) {
            checkClass(); clearInterval(slideLoop)
            if (checkValid()) { readycrush() } //1. đủ cờ, kiểm tra xem crush ko
            else { // mới vô, rớt ngay ngắn, bật time ---- // những lần bật time sau:
                if (yyy == 0) { document.querySelector(".outGame").classList.remove("nonee");xóa_Bảng() } else { turnFight() } 
            }
        }
    }, 20)
}
// 2. Bổ trợ: --------------------------------------------
function checkClass() { // ✨
    var allChess = document.querySelectorAll(".ch-Chess")
    for (var y of allChess) {
        if (sáu_Biến_Thường.includes(y.src)) {
            y.classList.replace(y.classList[0], sáu_Class_Thường[sáu_Biến_Thường.indexOf(y.src)])
            y.classList.replace(y.classList[2], "Xclass")
        } else if (_25_Biến_Đặc_Biệt.includes(y.src)) {
            y.classList.replace(y.classList[0], _25_ClassList_0[_25_Biến_Đặc_Biệt.indexOf(y.src)])
            y.classList.replace(y.classList[2], _25_ClassList_2[_25_Biến_Đặc_Biệt.indexOf(y.src)])
        }
    }

} // mỗi khi đổi cờ, class ko đổi. Nên nó dùng dổi class cờ
function add_blur_3x22(x) {if (mười_Tám_Class.includes(x.classList[2]) && x.src != blank) { specialArraymini.push(x)}}
function boom3x3(ô_Nổ) { // ✨
    var k = ô_Nổ.id.split("-"); a = +k[0]; b = +k[1]; //        /*board[a + y][b + z].classList[2] !='fiveBlock'?*/ mảng_Nổ.push(board[a + y][b + z])}}
    function mi(xx, y, z) { if (xx) {add_blur_3x22(board[a + y][b + z]); mảng_Nổ.push(board[a + y][b + z])}}
    mi(a - 1 >= 0 && b - 1 >= 0, -1, -1); mi(a - 1 >= 0 && b + 1 < cột, -1, 1); mi(a + 1 < hàng && b + 1 < cột, 1, 1); mi(a + 1 < hàng && b - 1 >= 0, 1, -1);
    mảng_Nổ.push(ô_Nổ) 
} // a là hàng (Dọc)
function boomDoc(ô_Nổ) { // ✨
    var k = ô_Nổ.id.split("-"), a = +k[0], b = +k[1], d = a;
    for (var i = a - 2; i <= a + 2; i++) {if (i >=0 && i < hàng) {mảng_Nổ.push(board[i][b]); if (i != d) {add_blur_3x22(board[i][b])}}}
}
function boomNgang(ô_Nổ) { // ✨
    var k = ô_Nổ.id.split("-"), a = +k[0], b = +k[1], d = b
    for (var i = b - 2; i <= b + 2; i++) {if (i >=0 && i < cột) {mảng_Nổ.push(board[a][i]); if (i != d) {add_blur_3x22(board[a][i])}}}
}
// 3. cho quái đánh: -----------------------------------------------
{ // 💛
    function testValid() {
        var bi = 0//ccc =[]  ccc.push([board[i][e].id, board[i + y][e + z].id])
        function bii(xx, y, z) {
            if (xx) {
                function mimi () {[board[i][e].src, board[i + y][e + z].src] = [board[i + y][e + z].src, board[i][e].src]}; mimi()
                checkClass(); if (checkValid()) { bi++}; mimi(); 
            }
        }
        for (var i = 0; i <= hàng - 1; i++) {
            for (var e = 0; e <= cột - 1; e++) { /*lên xuống phải trái*/;
                if (bi > 0) {return true}; var k = board[i][e].id.split("-"), a = +k[0], b = +k[1]
                bii(a+1<hàng,1,0);bii(b+1<cột, 0, 1);// bii(b - 1 >= 0, 0, -1); bii(a-1>=0,-1,0);
            }
        }
        var x = document.querySelectorAll(".ch-Chess")
        for (y of x) {
            if (y.classList[2] != 'Xclass' && y.classList[2] != 'fiveBlock') {
                var k = y.id.split("-"), a = +k[0], b = +k[1]; if (bi > 0) {return true}
                function pi(xx, y, z) { if (xx) { if (board[a + y][b + z].classList[2] != "Xclass" && board[a + y][b + z].classList[2] != "fiveBlock") { bi++ } } }
                pi(a - 1 >= 0, -1, 0)/*lên*/; pi(a + 1 <= hàng - 1, 1, 0)/*xuống*/
                pi(b + 1 <= cột - 1, 0, 1)/*phải*/; pi(b - 1 >= 0, 0, -1)/*trái*/
            }
        }
        for (y of x) { if (y.classList[2] == 'fiveBlock') { bi++ } }
        if (bi == 0) { return false } else {return true}

    } // kiểm tra xem bàn cờ có đi đc ko?  
    function replay() {
        document.querySelector(".board").parentNode.removeChild(document.querySelector(".board"))

        board = []; listOfArrays = []
        var banCo = document.createElement('div')
        banCo.classList.add('board')
        banCo.id = 'board'
        // map.classList.add('mapBassic')
        var fullclassApp = document.querySelector(".wrap")
        fullclassApp.append(banCo);
        startGame()
    } // đổi cờ
} // kiểm tra xem bàn cờ có đi đc ko?
{ // 💛
    //4. kiểm tra xem có tạo đc 4 viên liên tiếp ko
    function auto_4x() {auto_4x_array = []; var bi4x = 0
        function bii(xx, x, y) {   // z là xác định lấy true, ko lấy mảng mô tả
            if (xx) { // gốc, đổi, số viên đặc biệt, số nhánh (vd 5 viên A và 3 viên B)
                let currImg = board[i][e].src; let otherImg = board[i + x][e + y].src;
                board[i][e].src = otherImg; board[i + x][e + y].src = currImg; checkClass()
                if (checkValid()) { var testV = readycrush2(4)
                    if (testV[0]>0){bi4x++;auto_4x_array.push([board[i][e],board[i + x][e + y],testV[1],testV[2]])} 
                }; board[i][e].src = currImg; board[i + x][e + y].src = otherImg; checkClass()
            }
        }
        for (var i = 0; i <= 8; i++) {
            for (var e = 0; e <= 8; e++) { /**xuống*/ /**phải */
                var k =board[i][e].id.split("-");a = +k[0];b = +k[1];bii(a + 1 <hàng, 1,0);bii(b + 1 < cột, 0, 1); // bii(a - 1 >= 0, -1, 0);/**lên*/ bii(b - 1 >= 0, 0, -1); /**trái */
            }
        }; return [bi4x > 0, auto_4x_array] // (0)có tạo 4 ô liên tiếp ko?, (1) mảng 4 viên liên tiếp
    }
    //5. kiểm tra xem có tạo đc 3 viên liên tiếp ko
    function auto_3x() { auto_3x_array = []; var bi3x = 0
        function bii(xx, x, y) {   // z là xác định lấy true, ko lấy mảng mô tả
            if (xx) { // gốc, đổi, số viên đặc biệt, số nhánh (vd 5 viên A và 3 viên B)
                let currImg = board[i][e].src; let otherImg = board[i + x][e + y].src;
                board[i][e].src = otherImg; board[i + x][e + y].src = currImg; checkClass()
                if (checkValid()) { var testV = readycrush2(3)
                    if (testV[0]>0){bi3x++;auto_3x_array.push([board[i][e],board[i + x][e + y],testV[1],testV[2]])}
                }; board[i][e].src = currImg; board[i + x][e + y].src = otherImg; checkClass()
            }
        }
        for (var i = 0; i <= 8; i++) {
            for (var e = 0; e <= 8; e++) { /**xuống*/ /**phải */
                var k =board[i][e].id.split("-");a = +k[0];b = +k[1];bii(a + 1 <hàng, 1,0);bii(b + 1 < cột, 0, 1); // bii(a - 1 >= 0, -1, 0);/**lên*/ bii(b - 1 >= 0, 0, -1); /**trái */
            }
        }; return [bi3x > 0, auto_3x_array] // (0)có tạo 3 ô liên tiếp ko?, (1) mảng 3 viên liên tiếp
    }
    //6. Hỗ trợ xem nhánh
    function readycrush2(number) {
        listOfArrays = []; lấy_ListArray(); var classS = 0, n = 0    // ? 
        listOfArrays.forEach(i => {if (i.length >= number) { n++ }})
        var c = [... new Set(listOfArrays.flat())]; c.forEach(i => {if(i.classList[2] != 'Xclass'){classS++}})
        var b = listOfArrays; listOfArrays = [] // các viên liên tiếp 3/4/5 là viên N3D or thường
        return [n, classS, b.length]//(0)tạo đc 3/4/5 viên ko,(1)số N3D trong nhánh,(2)mấy nhánh
    }
    //7. Quái lựa cấp độ khó để đánh 
    function auto_Fight() { //var mảng_Auto = [auto_4x, auto_3x]
        var mảng_Đi_5_Hướng = [auto_4x(), auto_3x()], mảng_True = [] //6.1 Xem bàn cờ có những bước đi nào 
        mảng_Đi_5_Hướng.forEach((i,inn) => {if (i[0]) {mảng_True.push(inn)}})
        // coi nào true, lấy id của nó vô mảng_True ||  vd: true 0, true 1, false 2  ==>  0, 1
        var y = Math.floor(Math.random() * mảng_True.length), nn = mảng_True[y] // lấy đc random id     
        function mimi(yy) { //   true = [0,2,3]  3length 0  ||  true false true true 
            var N_Viên_ĐB = [], N_Nhánh = [], n = 0 //a[1] lấy all mảng|
            yy.forEach((i,ind) => {N_Viên_ĐB.push([i[2], ind]); N_Nhánh.push([i[3],ind]); i[2] >0?n++:1})
            if (n > 0) { mi(N_Viên_ĐB) } else { mi(N_Nhánh) }  // a[1][0]|[2],  a[1][1]|[2]   |[0] và [1] lấy gốc
            function mi(xx) { 
                const maxFirstElement = Math.max(...xx.map(arr => arr[0])); // Tìm giá trị lớn nhất
                const c = xx // Tạo mảng chứa các phần tử thứ hai của các mảng con có phần tử đầu tiên bằng giá trị lớn nhất
                    .filter(arr => arr[0] === maxFirstElement)
                    .map(arr => arr[1]);
                var randomm = Math.floor(Math.random() * c.length), random1_2 = Math.floor(Math.random() * 2) + 1
                random1_2 == 1? (currTile = yy[c[randomm]][0], otherTile = yy[c[randomm]][1])
                :(currTile = yy[c[randomm]][1], otherTile = yy[c[randomm]][0])
            }; 
            currTile.classList.replace(currTile.classList[3], 'focus')// mở focus Cur
            setTimeout(function () { currTile.classList.replace(currTile.classList[3], 'fc') }, 900)// tắt focus Cur
            setTimeout(function () {
                [currTile.src, otherTile.src] = [otherTile.src, currTile.src]; checkClass() 
                otherTile.classList.replace(otherTile.classList[3], 'outFocus')// mở focus Other
                setTimeout(function () { otherTile.classList.replace(otherTile.classList[3], 'fc') }, 400)//tắt focus Other
                setTimeout(function () {readycrush() }, 700) 
            }, 1100)
        }
        if (nn == 0) { mimi(mảng_Đi_5_Hướng[0][1])/**4 */ } else if (nn == 1) { mimi(mảng_Đi_5_Hướng[1][1]) }
    }
} // bot play 
{ // 💛
    function timePlayy() {
        timeTogether = setInterval(function () {
            if (timePlay >= 0 && meTurn == true) {
                hộp_TimeMe.classList.remove("nonee")/*mở timeMe*/; hộp_TimeEn.classList.add("nonee")//tắt timeEnemy
                giờ_TimeMe.innerHTML = timePlay; timePlay--
                if (timePlay < 0) {
                    if (numbGo > 0) {
                        clearInterval(timeTogether)
                            // (1) mở bảng lượt, (2) tắt bảng lượt
                       /*1*/thẻ_Cha_Lượt.classList.remove("nonee")
                       /*2*/setTimeout(function () { thẻ_Cha_Lượt.classList.add("nonee") }, 1700)
                        so_Luot.innerHTML = numbGo; numbGo-- // (3) cho số lượt và trừ đi lượt

                        click1 = true; meTurn = true; theyTurn = false; timePlay = 10; timePlayy()
                    } else {
                        document.querySelector(".outGame").classList.add("nonee")
                        click1 = false; timePlay = 10; meTurn = false; theyTurn = true
                        // đặt x nhiu đây, vì nó đôn lên 1 số
                        var xx = [7, 6, 5, 4, 3]; var random = Math.floor(Math.random() * xx.length)
                        timeEnemyPlay = xx[random]
                    }
                }
            } else if (timePlay >= 0 && theyTurn == true) {
                if (timePlay == timeEnemyPlay) { // ? dùng sau clear?
                    hộp_TimeEn.classList.add("doiMauTime"); clearInterval(timeTogether); auto_Fight()
                } else {
                    hộp_TimeMe.classList.add("nonee")/*tắt timeMe*/; hộp_TimeEn.classList.remove("nonee")//mở timeEnemy
                    giờ_TimeEn.innerHTML = timePlay; timePlay--
                    if (timePlay < 0) { click1 = true; timePlay = 10; meTurn = true; theyTurn = false }
                }
            }
        }, 1000)
    }
} // phần time cho game
var timeEn = [7, 6, 5, 4, 3]// điểm và thời gian đánh
function turnFight() {
    function end_Game_Or_Continue_Turn() {
        if (quai.hp(2, 0) <= 0) {đẩy_Quái();
            me_Ingame.lvPercent(1); mee.lv(1);quái_Me[6] = mee.lvPercentInfor(); quái_Me[5] = mee.lvInfor()
            var x = +document.querySelector(".vangMe1").innerHTML
            document.querySelector(".xu_Nv_0").innerHTML = +document.querySelector(".xu_Nv_0").innerHTML + x
             
            document.querySelector(".vangMe1").innerHTML = 0
            document.querySelector(".vangEnemy1").innerHTML = 0
            
            document.querySelector(".HNEnemy1").innerHTML = 0

            var indec = tìmIndexMảngCha(quái_S, quaiMap[2])
            quái_S[indec][12] = quái_S[indec][12] + (+document.querySelector(".HNMe1").innerHTML) 
            document.querySelector(".HNMe1").innerHTML = 0

            
        }; if (mee.hp(2, 0) <= 0) {me_Ingame.lvPercent(2); mee.lv(2); 
            quái_Me[6] = mee.lvPercentInfor(); quái_Me[5] = mee.lvInfor()
            document.querySelector(".vangMe1").innerHTML = 0
            document.querySelector(".vangEnemy1").innerHTML = 0
            document.querySelector(".HNMe1").innerHTML = 0
            document.querySelector(".HNEnemy1").innerHTML = 0
        }
        (quai.hp(2, 0) > 0 && mee.hp(2, 0) > 0) ? xóa_Bảng() : end_Game();
    };// ✨
    if (meTurn == true) { // mình có nhiều lượt /*còn bao nhiêu lượt*/ /*tắt sáng ô */
        numbGo > 0 ? (document.querySelector(".outGame").classList.remove("nonee"),
            điểm___Tắt_Mở_Bảng___Số_Lượt(), end_Light_Fight(time_Me), yyyCòn = 1, end_Game_Or_Continue_Turn())
            : (cộngĐiểmSauCrush(1), end_Light_Fight(time_Me),// mình hết lượt --> quái đánh
            document.querySelector(".outGame").classList.add("nonee"),
                timeEnemyPlay = timeEn[Math.floor(Math.random() * timeEn.length)], yyyCòn = 2, end_Game_Or_Continue_Turn())
    } else { // quái có nhiều lượt    ||  // quái hết lượt --> mình đánh
        numbGo > 0 ? (điểm___Tắt_Mở_Bảng___Số_Lượt(), end_Light_Fight(time_Enemy), 
        document.querySelector(".outGame").classList.add("nonee"),
        yyyCòn = 2, end_Game_Or_Continue_Turn())
            : (cộngĐiểmSauCrush(1), document.querySelector(".outGame").classList.remove("nonee"),
            end_Light_Fight(time_Enemy), yyyCòn = 1, end_Game_Or_Continue_Turn())
    }; function mở_Và_Tắt_Bảng_Lượt() { thẻ_Cha_Lượt.classList.remove("nonee"); setTimeout(function () { thẻ_Cha_Lượt.classList.add("nonee") }, 1700) }
    function end_Light_Fight(xx) { xx.classList.remove("doiMauTime") }; function điểm___Tắt_Mở_Bảng___Số_Lượt() { cộngĐiểmSauCrush(1); mở_Và_Tắt_Bảng_Lượt(); so_Luot.innerHTML = numbGo; numbGo--; }
}; 

function xóa_Bảng() {
    if (!testValid()) { meTurn = false; theyTurn =false; timePlay = 0; yyy = 0; cotArray = []
        setTimeout(() => {
            while (boardd.firstChild) {boardd.removeChild(boardd.firstChild)}; board  = []
            startGame();  tạo_Cột_Slide(); setTimeout(() => {readycrush()}, 500)}, 1000);}  
    else {yyy++; if (yyyCòn == 1) { meTurn = true; theyTurn = false;click1 = true; timePlay = 10; timePlayy()}
        else if (yyyCòn == 2){ theyTurn = true; meTurn = false; timePlay = 10; timePlayy()}}
} // nếu start game cho yyy còn  2 thì nhớ cho random đánh

function end_Game(){meTurn = false; theyTurn =false; timePlay = 0; yyy = 0; cotArray = [];
    setTimeout(()=>{while (boardd.firstChild) {boardd.removeChild(boardd.firstChild)}; board  = []
        setTimeout(()=>{nonee("background","add","nonee"); nonee("infor_battle","add","nonee"); 
        },700)    },700)
};function nonee(namee,add, none){document.querySelector(`.${namee}`).classList[add](none)}

// xx là lv 0 or 100;
function lvPoint(xx) { // yy ko truyền mặc định là 0
    var y = [dam, giápPo, hpPo, hpMaxPo]
    function mi(y, lv, phần_Trăm) { // x là dame, y mảng dam, yy là special, zz là y.length
        i = Math.floor(Math.random() * y.length); x = y[i];  x=x+(x*phần_Trăm/100)*lv; return làm_Tròn(x,2)
    } // dam, hpPo giápPo là mảng
    hpMax = mi(y[3], xx, 8); dame = mi(y[0], xx, 7); giápPoint = mi(y[1], xx, 7); hpPoint = mi(y[2], xx, 7)
    return [hpMax, 9, hpPoint, 2, 0.5, giápPoint, dame] /*hpMax  - mana - hp - vàng - skill - giáp - dame*/
}
function cộngĐiểmSauCrush(aa) {
    if (aa == 0) {
        var x = document.querySelectorAll(".ch-Chess")
        for (var y of x) {
            if (y.src == blank) { // tìm viên  nào trống
                if (_6_Class_3x2.includes(y.classList[2])) { allChessPoint4[_6_Class_3x2.indexOf(y.classList[2])] += 1.5 }
                else if (_6_Class_Dọc.includes(y.classList[2])) { allChessPoint4[_6_Class_Dọc.indexOf(y.classList[2])] += 1.5 }
                else if (_6_Class_Ngang.includes(y.classList[2])) { allChessPoint4[_6_Class_Ngang.indexOf(y.classList[2])] += 1.5 }
                else if (sáu_Class_Thường.includes(y.classList[0])) { allChessPoint4[sáu_Class_Thường.indexOf(y.classList[0])] += 1 }
            }
        } function mi(i) {setTimeout(()=>{mảng_bảng_Điểm[i].innerHTML = 0}, 1500)}
        for (var i = 0; i < mảng_bảng_Điểm.length; i++) {
            if (meTurn == true) {var xx = allChessPoint4[i] * lvPoint(mee.lvInfor())[i + 1]} 
            else { var xx = allChessPoint4[i] * lvPoint(quai.lvInfor())[i+1]}
            mảng_bảng_Điểm[i].innerHTML = làm_Tròn(xx, 2); mi(i)       
            mảng_bảng_Điểm_End[i] = làm_Tròn(xx, 2);
        }
    }
    if (aa > 0) {
        if  (meTurn == true) { // mee.mana(2, +mảng_bảng_Điểm[0].innerHTML); mảng_bảng_ĐMe[0].innerHTML = mee.manaInfor()
            mee.mana(2,  mảng_bảng_Điểm_End[0]);
            document.querySelector(".manaMe1").style.width = làm_Tròn( mee.manaInfor()*4/300, 2) +'rem'

            mee.xu(2,  mảng_bảng_Điểm_End[2]); mảng_bảng_ĐMe[2].innerHTML = mee.xuInfor()
            mee.hồng_ngọc(2,  mảng_bảng_Điểm_End[3]); mảng_bảng_ĐMe[3].innerHTML = mee.hồng_ngọcInfor()
            mee.hp(2,  mảng_bảng_Điểm_End[1]); 
            document.querySelector(".hpMe1").style.width = làm_Tròn( mee.hpInfor()*4/mee.hpMaxInfor(), 2) +'rem'

            if ( mảng_bảng_Điểm_End[4] > 0) { // giáp. 4 mình là giáp
                mee.giáp(1,  mảng_bảng_Điểm_End[4]); mảng_bảng_ĐMe[4].innerHTML = mee.giápInfor()
                mảng_bảng_ĐEnemy[4].innerHTML = quai.giápInfor(); 
                document.querySelector(".hpEnemy1").style.width = làm_Tròn( quai.hpInfor()*4/quai.hpMaxInfor(), 2) +'rem'
            }
            if ( mảng_bảng_Điểm_End[5] > 0) { //dame
                quai.hp(1,  mảng_bảng_Điểm_End[5]); mảng_bảng_ĐEnemy[4].innerHTML = quai.giápInfor()
                document.querySelector(".hpEnemy1").style.width = làm_Tròn( quai.hpInfor()*4/quai.hpMaxInfor(), 2) +'rem'
            }
        } else {
            quai.mana(2,  mảng_bảng_Điểm_End[0]);
            document.querySelector(".manaEnemy1").style.width = làm_Tròn(quai.manaInfor()*4/300, 2)+'rem'

            quai.xu(2,  mảng_bảng_Điểm_End[2]); mảng_bảng_ĐEnemy[2].innerHTML = quai.xuInfor()
            quai.hồng_ngọc(2,  mảng_bảng_Điểm_End[3]); mảng_bảng_ĐEnemy[3].innerHTML = quai.hồng_ngọcInfor()
            quai.hp(2,  mảng_bảng_Điểm_End[1]); 
            document.querySelector(".hpEnemy1").style.width = làm_Tròn( quai.hpInfor()*4/quai.hpMaxInfor(), 2) +'rem'

            if ( mảng_bảng_Điểm_End[4] > 0) { // giáp. 4 mình là giáp
                quai.giáp(2,  mảng_bảng_Điểm_End[4]); mảng_bảng_ĐEnemy[4].innerHTML = quai.giápInfor()
                mảng_bảng_ĐMe[4].innerHTML = mee.giápInfor()
                document.querySelector(".hpMe1").style.width = làm_Tròn( mee.hpInfor()*4/mee.hpMaxInfor(), 2) +'rem'
            }
            if ( mảng_bảng_Điểm_End[5] > 0) { // dame
                mee.hp(1,  mảng_bảng_Điểm_End[5]); mảng_bảng_ĐMe[4].innerHTML = mee.giápInfor()
                document.querySelector(".hpMe1").style.width = làm_Tròn( mee.hpInfor()*4/mee.hpMaxInfor(), 2) +'rem'
            }
        }
        for(let i =0; i < allChessPoint4.length; i++) {allChessPoint4[i] = 0; mảng_bảng_Điểm_End[i] = 0}
        setTimeout(()=>{document.querySelector(".boardPoint").classList.add("nonee");},1700)
    }
} // 0 là cộng điểm, 1 là kết thúc cộng?
// function cộngĐiểmSauCrush(aa) {
//     if (aa == 0) {
//         var x = document.querySelectorAll(".ch-Chess")
//         for (var y of x) {
//             if (y.src == blank) { // tìm viên  nào trống
//                 if (_6_Class_3x2.includes(y.classList[2])) { allChessPoint4[_6_Class_3x2.indexOf(y.classList[2])] += 1.5 }
//                 else if (_6_Class_Dọc.includes(y.classList[2])) { allChessPoint4[_6_Class_Dọc.indexOf(y.classList[2])] += 1.5 }
//                 else if (_6_Class_Ngang.includes(y.classList[2])) { allChessPoint4[_6_Class_Ngang.indexOf(y.classList[2])] += 1.5 }
//                 else if (sáu_Class_Thường.includes(y.classList[0])) { allChessPoint4[sáu_Class_Thường.indexOf(y.classList[0])] += 1 }
//             }
//         } function mi(i) {setTimeout(()=>{mảng_bảng_Điểm[i].innerHTML = 0}, 1500)}
//         for (var i = 0; i < mảng_bảng_Điểm.length; i++) {
//             if (meTurn == true) {var xx = allChessPoint4[i] * lvPoint(mee.lvInfor())[i + 1]} 
//             else { var xx = allChessPoint4[i] * lvPoint(quai.lvInfor())[i+1]}
//             mảng_bảng_Điểm[i].innerHTML = làm_Tròn(xx, 2); mi(i)       
//             mảng_bảng_Điểm_End[i] = làm_Tròn(xx, 2);
//         }
//     }
//     if (aa > 0) {
//         // for (va)
//         if  (meTurn == true) { // mee.mana(2, +mảng_bảng_Điểm[0].innerHTML); mảng_bảng_ĐMe[0].innerHTML = mee.manaInfor()
//             mee.mana(2,  mảng_bảng_Điểm_End[0]); mảng_bảng_ĐMe[0].innerHTML = mee.manaInfor()
//             mee.hp(2,  mảng_bảng_Điểm_End[1]); mảng_bảng_ĐMe[1].innerHTML = mee.hpInfor()
//             mee.xu(2,  mảng_bảng_Điểm_End[2]); mảng_bảng_ĐMe[2].innerHTML = mee.xuInfor()
//             mee.hồng_ngọc(2,  mảng_bảng_Điểm_End[3]); mảng_bảng_ĐMe[3].innerHTML = mee.hồng_ngọcInfor()
//             if ( mảng_bảng_Điểm_End[4] > 0) {
//                 mee.giáp(1,  mảng_bảng_Điểm_End[4]); mảng_bảng_ĐMe[4].innerHTML = mee.giápInfor()
//                 mảng_bảng_ĐEnemy[1].innerHTML = quai.hpInfor();  mảng_bảng_ĐEnemy[4].innerHTML = quai.giápInfor(); 
//             }
//             if ( mảng_bảng_Điểm_End[5] > 0) {
//                 quai.hp(1,  mảng_bảng_Điểm_End[5]); mảng_bảng_ĐEnemy[4].innerHTML = quai.giápInfor()
//                 mảng_bảng_ĐEnemy[1].innerHTML = quai.hpInfor()
//             }
//         } else {
//             quai.mana(2,  mảng_bảng_Điểm_End[0]); mảng_bảng_ĐEnemy[0].innerHTML = quai.manaInfor()
//             quai.hp(2,  mảng_bảng_Điểm_End[1]); mảng_bảng_ĐEnemy[1].innerHTML = quai.hpInfor()
//             quai.xu(2,  mảng_bảng_Điểm_End[2]); mảng_bảng_ĐEnemy[2].innerHTML = quai.xuInfor()
//             quai.hồng_ngọc(2,  mảng_bảng_Điểm_End[3]); mảng_bảng_ĐEnemy[3].innerHTML = quai.hồng_ngọcInfor()
//             if ( mảng_bảng_Điểm_End[4] > 0) {
//                 quai.giáp(2,  mảng_bảng_Điểm_End[4]); mảng_bảng_ĐEnemy[4].innerHTML = quai.giápInfor()
//                 mảng_bảng_ĐMe[1].innerHTML = mee.hpInfor(); mảng_bảng_ĐMe[4].innerHTML = mee.giápInfor()
//             }
//             if ( mảng_bảng_Điểm_End[5] > 0) {
//                 mee.hp(1,  mảng_bảng_Điểm_End[5]); mảng_bảng_ĐMe[4].innerHTML = mee.giápInfor()
//                 mảng_bảng_ĐMe[1].innerHTML = mee.hpInfor()
//             }
//         }
//         for(let i =0; i < allChessPoint4.length; i++) {allChessPoint4[i] = 0; mảng_bảng_Điểm_End[i] = 0}
//         setTimeout(()=>{document.querySelector(".boardPoint").classList.add("nonee");},1700)
//     }
// }